# NOTE! This file is generated!

apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: couchdb-us-east-2a-pvc
  annotations:
  <% if ENV["TF_VAR_cluster_name"].start_with? "stg." or ENV["TF_VAR_cluster_name"].start_with? "prd." %>
    backup.kubernetes.io/deltas: "PT15M PT60M PT4H PT24H"
  <% elsif ENV["TF_VAR_cluster_name"].start_with? "dev-gitlab-runner." %>
    # No backups in dev-gitlab-runner.
  <% else %>
    backup.kubernetes.io/deltas: "PT5M PT15M PT45M"
  <% end %>
spec:
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: 5Gi
  storageClassName: gpii-default
  selector:
    matchLabels:
      couchdb-pv: us-east-2a

apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: couchdb-us-east-2b-pvc
  annotations:
  <% if ENV["TF_VAR_cluster_name"].start_with? "stg." or ENV["TF_VAR_cluster_name"].start_with? "prd." %>
    backup.kubernetes.io/deltas: "PT15M PT60M PT4H PT24H"
  <% else %>
    backup.kubernetes.io/deltas: "PT5M PT15M PT45M"
  <% end %>
spec:
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: 5Gi
  storageClassName: gpii-default
  selector:
    matchLabels:
      couchdb-pv: us-east-2b
